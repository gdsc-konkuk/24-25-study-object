# chapter-01 객체, 설계

클린 소프트웨어(로버트 마틴)은 소프트웨어 모듈이 가져야하는 세가지 기능에 대해 설명한다.

> 모듈이란 크기와 상관 없이 클래스나 패키지, 라이브러리와 같이 프로그램을 구성하는 임의의 요소이다.

1. 모듈은 실행 중에 제대로 동작해야한다
2. 모듈은 변경을 위해 존재해야한다.
3. 모듈은 코드를 읽는 사람과 의사소통 하는 것이다.

이해 가능한 코드란 그 동작이 우리의 예상에서 크게 벗어나지 않는 코드이다.

### 변경에 취약한 코드
이러한 문제를 지닌 코드들은 **변경에 취약**하다는 문제가 있다. 이는 객체 사이의 의존성(dependency)와 관련된 문제이다

> **객체 사이의 의존성**
> 어떤 객체가 변경될 때 그 객체에게 의존하는 다른 객체도 함께 변경될 수 있다

객체 사이의 **의존성이 과한 경우를 가리켜 결합도(coupling)이 높다**고 한다.

따라서 설계의 목표는 객체 사이의 **결합도를 낮춰 변경이 용이한 설계**를 만드는 것이다.

### 캡슐화와 응집도

연관성이 없는 작업은 다른 객체에게 위임하는 객체를 '**응집도(cohesion)이 높다**' 라고 표현한다.

자신의 데이터를 스스로를 처리하는 객체를 만들면 결합도를 낮추며 응집도를 높일 수 있다.

### 절차지향과 객체지향

프로세스와 데이터를 별도의 모듈에 위치시키는 방식을 **절차적 프로그래밍**이라고 부른다.

- 일반적으로 절차적 프로그래밍은 우리의 직관과 위배된다. 
	- 우리가 코드를 읽었을 때 이해하기 쉽지 않다.
- 데이터의 변경으로 인한 영향을 지역적으로 고립시키기 어렵다.
	- 버그에 대한 두려움은 코드를 변경하기 어렵게 만든다.
	- 절차적 프로그래밍은 변경하기 어려운 코드로 이어지는 경향이 있다.

데이터와 프로세스를 동일한 모듈 내부에 위치하는 방식은 **객체지향 프로그래밍**이라고 부른다.

- 객체지향 설계의 핵심은 다음과 같다
	- 캡슐화를 이용해 의존성을 적절히 관리한다
	- 객체 사이의 결합도를 낮춘다.
- 객체지향 코드는 자신의 문제를 스스로 해결해야 한다는 우리의 예상을 만족시키기 때문에 이해하기 쉽다.
- 객체 내부의 변경이 객체 외부에 파급되지 않도록 제어 할 수 있기 때문에 변경하기 수월하다.

### 책임의 이동

객체지향과 절차적 프로그래밍의 근본적인 차이를 만드는 것은 **책임(기능)의 이동**이다. 
객체는 다른 객체와의 협력이라는 문맥 안에서 특정한 역할을 수행하는데 필요한 적절한 책임을 수행해야한다.

결국 객체지향 설계의 핵심은
- 설계를 어렵게 만드는 것은 **의존성**이다
- 불필요한 의존성을 제거함으로써 객체 사이의 **결합도**를 낮춘다.
- 결합도를 낮추기 위해 **캡슐화**를 한다.
- 객체의 **자율성**과 **응집도**를 높인다.